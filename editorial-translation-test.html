<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editorial Translation Test - Bend App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .language-selector {
            margin: 20px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        .language-selector button {
            margin: 5px;
            padding: 8px 16px;
            border: 1px solid #ccc;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        .language-selector button:hover {
            background: #e9e9e9;
        }
        .language-selector button.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }
        .editorial-footer {
            margin-top: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .editorial-content {
            max-width: 600px;
            margin: 0 auto;
        }
        .editorial-text {
            text-align: center;
            color: #6c757d;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .editorial-text strong {
            color: #495057;
            font-weight: 600;
        }
        .editorial-text a {
            color: #007bff;
            text-decoration: none;
        }
        .editorial-text a:hover {
            text-decoration: underline;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .test-result.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .test-result.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>üåç Editorial Translation Test</h1>
    <p>This test verifies that the editorial content in the footer translates correctly when switching languages.</p>

    <div class="language-selector">
        <h3>Select Language:</h3>
        <button onclick="testLanguage('en')" class="active" id="btn-en">üá∫üá∏ English</button>
        <button onclick="testLanguage('de')" id="btn-de">üá©üá™ Deutsch</button>
        <button onclick="testLanguage('es')" id="btn-es">üá™üá∏ Espa√±ol</button>
        <button onclick="testLanguage('ta')" id="btn-ta">üá±üá∞ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
    </div>

    <div class="test-section">
        <h3>Test Results:</h3>
        <div id="test-results"></div>
    </div>

    <!-- Editorial Footer (same as in main app) -->
    <footer class="editorial-footer">
        <div class="editorial-content">
            <p class="editorial-text">
                <span data-i18n="editorial.createdBy"></span> <strong>selloa</strong> <span data-i18n="editorial.inYear"></span><br>
                <span data-i18n="editorial.shareMessage"></span><br>
                <span data-i18n="editorial.businessInquiries"></span> <a href="https://github.com/selloa" target="_blank" rel="noopener noreferrer">github.com/selloa</a>
            </p>
        </div>
    </footer>

    <!-- Include i18n system -->
    <script src="i18n.js"></script>

    <script>
        let testResults = [];

        function testLanguage(lang) {
            console.log(`Testing language: ${lang}`);
            
            // Update active button
            document.querySelectorAll('.language-selector button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`btn-${lang}`).classList.add('active');

            // Change language
            window.i18n.changeLanguage(lang);

            // Test editorial translations
            testEditorialTranslations(lang);
        }

        function testEditorialTranslations(lang) {
            const results = [];
            
            // Expected translations for each language
            const expectedTranslations = {
                en: {
                    createdBy: "Created by",
                    inYear: "in 2025",
                    shareMessage: "Please share with family, friends and colleagues",
                    businessInquiries: "For business inquiries:"
                },
                de: {
                    createdBy: "Erstellt von",
                    inYear: "im Jahr 2025",
                    shareMessage: "Bitte teilen Sie mit Familie, Freunden und Kollegen",
                    businessInquiries: "F√ºr Gesch√§ftsanfragen:"
                },
                es: {
                    createdBy: "Creado por",
                    inYear: "en 2025",
                    shareMessage: "Por favor comparte con familia, amigos y colegas",
                    businessInquiries: "Para consultas comerciales:"
                },
                ta: {
                    createdBy: "‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æø‡ÆØ‡Æµ‡Æ∞‡Øç",
                    inYear: "2025 ‡Æá‡Æ≤‡Øç",
                    shareMessage: "‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æï‡ØÅ‡Æü‡ØÅ‡ÆÆ‡Øç‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Æ∞‡Øç, ‡Æ®‡Æ£‡Øç‡Æ™‡Æ∞‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æö‡Æï ‡Æä‡Æ¥‡Æø‡ÆØ‡Æ∞‡Øç‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æ™‡Æï‡Æø‡Æ∞‡Æµ‡ØÅ‡ÆÆ‡Øç",
                    businessInquiries: "‡Æµ‡Æ£‡Æø‡Æï ‡Æµ‡Æø‡Æö‡Ææ‡Æ∞‡Æ£‡Øà‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ:"
                }
            };

            const expected = expectedTranslations[lang];
            
            // Test each editorial translation key
            Object.keys(expected).forEach(key => {
                const actual = window.i18n.t(`editorial.${key}`);
                const expectedText = expected[key];
                const isCorrect = actual === expectedText;
                
                results.push({
                    key: `editorial.${key}`,
                    expected: expectedText,
                    actual: actual,
                    correct: isCorrect
                });
            });

            // Display results
            displayTestResults(lang, results);
        }

        function displayTestResults(lang, results) {
            const container = document.getElementById('test-results');
            const langName = {
                en: 'English',
                de: 'Deutsch', 
                es: 'Espa√±ol',
                ta: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç'
            }[lang];

            let html = `<h4>${langName} (${lang}) Test Results:</h4>`;
            
            results.forEach(result => {
                const statusClass = result.correct ? 'success' : 'error';
                const statusIcon = result.correct ? '‚úÖ' : '‚ùå';
                
                html += `
                    <div class="test-result ${statusClass}">
                        ${statusIcon} <strong>${result.key}</strong><br>
                        Expected: "${result.expected}"<br>
                        Actual: "${result.actual}"
                    </div>
                `;
            });

            // Overall result
            const allCorrect = results.every(r => r.correct);
            const overallClass = allCorrect ? 'success' : 'error';
            const overallIcon = allCorrect ? '‚úÖ' : '‚ùå';
            
            html += `
                <div class="test-result ${overallClass}">
                    ${overallIcon} <strong>Overall Result:</strong> 
                    ${allCorrect ? 'All editorial translations working correctly!' : 'Some translations need attention.'}
                </div>
            `;

            container.innerHTML = html;
        }

        // Initialize with English
        document.addEventListener('DOMContentLoaded', () => {
            testLanguage('en');
        });
    </script>
</body>
</html>

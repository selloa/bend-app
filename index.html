<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bend: Stretching & Flexibility</title>
    <meta name="description" content="A gentle stretching and flexibility app designed for all ages and abilities">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%234A90E2' stroke='%232C5F8A' stroke-width='3'/%3E%3Cpath d='M30 40 Q50 20 70 40 Q50 60 30 40' fill='%23FFFFFF' stroke='%232C5F8A' stroke-width='2'/%3E%3Cpath d='M35 35 Q50 25 65 35' fill='none' stroke='%232C5F8A' stroke-width='2'/%3E%3Cpath d='M35 45 Q50 55 65 45' fill='none' stroke='%232C5F8A' stroke-width='2'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="i18n-styles.css">
    <link rel="stylesheet" href="new-system-styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="title-section">
                    <h1 class="main-title" data-i18n="app.title">Bend</h1>
                    <p class="subtitle" data-i18n="app.subtitle">Stretching & Flexibility</p>
                </div>
                <div class="header-controls">
                    <!-- Language Selector -->
                    <div class="language-selector" id="language-selector">
                        <button class="language-button" id="language-button" data-i18n-attr="aria-label" data-i18n="accessibility.languageSelector">
                            <span class="language-flag" id="language-flag">🇺🇸</span>
                            <span class="language-code" id="current-language">EN</span>
                        </button>
                        <div class="language-dropdown" id="language-dropdown">
                            <!-- Languages populated by JavaScript -->
                        </div>
                    </div>
                    
                    <button class="dark-mode-toggle" id="dark-mode-toggle" data-i18n-attr="aria-label" data-i18n="accessibility.toggleDarkMode">
                        <span class="toggle-icon">🌙</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Routine Category Selection -->
        <section id="routine-selection" class="section active" role="main" aria-label="Routine selection">
            <h2 class="section-title" data-i18n="navigation.chooseRoutine">Choose a routine:</h2>
            <div class="routine-categories">
                <!-- Original Routine Categories -->
                <button class="routine-category-btn" data-routine="wake-up">
                    <div class="icon">🌅</div>
                    <span>Wake Up</span>
                    <p>Quick morning mobility flow</p>
                </button>
                <button class="routine-category-btn" data-routine="posture-reset">
                    <div class="icon">🪑</div>
                    <span>Posture Reset</span>
                    <p>Seated stretches for better posture</p>
                </button>
                <button class="routine-category-btn" data-routine="full-body">
                    <div class="icon">🧘</div>
                    <span>Full Body</span>
                    <p>Comprehensive flexibility routine</p>
                </button>
                <button class="routine-category-btn" data-routine="sleep">
                    <div class="icon">🌙</div>
                    <span>Sleep</span>
                    <p>Gentle stretches for better sleep</p>
                </button>
                <button class="routine-category-btn" data-routine="expert">
                    <div class="icon">⭐</div>
                    <span>Expert</span>
                    <p>Advanced flexibility training</p>
                </button>
                <button class="routine-category-btn" data-routine="hips">
                    <div class="icon">🦵</div>
                    <span>Hips</span>
                    <p>Deep hip opening stretches</p>
                </button>
                <button class="routine-category-btn" data-routine="hamstrings">
                    <div class="icon">🏃</div>
                    <span>Hamstrings</span>
                    <p>Targeted hamstring flexibility</p>
                </button>
                <button class="routine-category-btn" data-routine="lower-back">
                    <div class="icon">🫁</div>
                    <span>Lower Back</span>
                    <p>Relief for lower back pain</p>
                </button>
                <button class="routine-category-btn" data-routine="isometric">
                    <div class="icon">💪</div>
                    <span>Isometric</span>
                    <p>Strength through static holds</p>
                </button>
                <button class="routine-category-btn" data-routine="neck">
                    <div class="icon">🦒</div>
                    <span>Neck</span>
                    <p>Relieve neck tension and stiffness</p>
                </button>
                <button class="routine-category-btn" data-routine="shoulders">
                    <div class="icon">🤷</div>
                    <span>Shoulders</span>
                    <p>Release shoulder tension</p>
                </button>
                <button class="routine-category-btn" data-routine="feet">
                    <div class="icon">🦶</div>
                    <span>Feet</span>
                    <p>Foot flexibility and health</p>
                </button>
                <button class="routine-category-btn" data-routine="ankle">
                    <div class="icon">🦵</div>
                    <span>Ankle</span>
                    <p>Ankle mobility and flexibility</p>
                </button>
                <button class="routine-category-btn" data-routine="knees">
                    <div class="icon">🦵</div>
                    <span>Knees</span>
                    <p>Knee mobility and joint health</p>
                </button>
                <button class="routine-category-btn" data-routine="hands">
                    <div class="icon">✋</div>
                    <span>Hands</span>
                    <p>Hand and finger dexterity</p>
                </button>
                <button class="routine-category-btn" data-routine="fingers">
                    <div class="icon">👆</div>
                    <span>Fingers</span>
                    <p>Individual finger flexibility</p>
                </button>
                <button class="routine-category-btn" data-routine="wrists">
                    <div class="icon">🤲</div>
                    <span>Wrists</span>
                    <p>Wrist mobility and flexibility</p>
                </button>
                <button class="routine-category-btn" data-routine="feet-ankles">
                    <div class="icon">🦶</div>
                    <span>Feet & Ankles</span>
                    <p>Foot and ankle mobility routine</p>
                </button>
                
                <!-- Body Area Folders -->
                <button class="folder-btn" data-folder="hips">
                    <div class="icon">🦴</div>
                    <span>Hips</span>
                    <p>Hip mobility and flexibility routines</p>
                </button>
                
                <button class="folder-btn" data-folder="shoulders">
                    <div class="icon">🤲</div>
                    <span>Shoulders</span>
                    <p>Shoulder mobility and flexibility routines</p>
                </button>
                
                <button class="folder-btn" data-folder="lower-back">
                    <div class="icon">🫁</div>
                    <span>Lower Back</span>
                    <p>Lower back relief and strengthening routines</p>
                </button>
                
                <button class="folder-btn" data-folder="neck">
                    <div class="icon">🦒</div>
                    <span>Neck</span>
                    <p>Neck mobility and tension relief routines</p>
                </button>
                
                <button class="folder-btn" data-folder="hamstrings">
                    <div class="icon">🦵</div>
                    <span>Hamstrings</span>
                    <p>Hamstring flexibility and mobility routines</p>
                </button>
                
                <button class="folder-btn" data-folder="feet-ankles">
                    <div class="icon">🦶</div>
                    <span>Feet & Ankles</span>
                    <p>Foot and ankle mobility routines</p>
                </button>
                
                <button class="folder-btn" data-folder="core">
                    <div class="icon">💪</div>
                    <span>Core</span>
                    <p>Core strength and stability routines</p>
                </button>
                
                <button class="folder-btn" data-folder="upper-body">
                    <div class="icon">🏋️</div>
                    <span>Upper Body</span>
                    <p>Upper body mobility and strength routines</p>
                </button>
                
                <button class="folder-btn" data-folder="lower-body">
                    <div class="icon">🦿</div>
                    <span>Lower Body</span>
                    <p>Lower body mobility and strength routines</p>
                </button>
                
                <button class="folder-btn" data-folder="seated">
                    <div class="icon">🪑</div>
                    <span>Seated</span>
                    <p>Seated exercises for office or limited mobility</p>
                </button>
                
                <button class="folder-btn" data-folder="posture">
                    <div class="icon">📏</div>
                    <span>Posture</span>
                    <p>Posture correction and alignment routines</p>
                </button>
                
                <button class="folder-btn" data-folder="chest">
                    <div class="icon">🫀</div>
                    <span>Chest</span>
                    <p>Chest opening and flexibility routines</p>
                </button>
            </div>
        </section>

        <!-- Folder View -->
        <section id="folder-view" class="section" role="main" aria-label="Folder routines">
            <div class="folder-header">
                <button class="back-btn" id="back-to-main" aria-label="Go back to routine selection">
                    <span class="back-icon">‹</span>
                    <span data-i18n="navigation.back">Back</span>
                </button>
                <h2 class="section-title" id="folder-title">Folder Routines</h2>
            </div>
            <div class="folder-routines" id="folder-routines">
                <!-- Folder routines will be populated by JavaScript -->
            </div>
        </section>

        <!-- Exercise Display -->
        <section id="exercise-display" class="section" role="main" aria-label="Exercise display">
            <!-- Progress indicator at top -->
            <div class="exercise-progress" role="status" aria-label="Exercise progress">
                <span id="current-exercise">1</span> of <span id="total-exercises">8</span>
            </div>
            
            <!-- Main exercise content -->
            <div class="exercise-main">
                <!-- Circular exercise illustration -->
                <div class="exercise-circle">
                    <div class="circle-timer" id="circle-timer">
                        <svg class="timer-ring" viewBox="0 0 100 100">
                            <circle class="timer-ring-bg" cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"/>
                            <circle class="timer-ring-progress" cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.8)" stroke-width="2" stroke-dasharray="283" stroke-dashoffset="283"/>
                        </svg>
                    </div>
                    <div class="exercise-emoji" id="exercise-emoji">💪</div>
                </div>
                
                <!-- Exercise title -->
                <h2 class="exercise-title" id="exercise-name">Exercise Name</h2>
                
                <!-- Exercise description -->
                <p class="exercise-description" id="exercise-description">Exercise description will appear here.</p>
                
                <!-- Timer display -->
                <div class="timer-display" id="timer-display" role="timer" aria-label="Exercise timer">0:30</div>
            </div>
            
            <!-- Bottom navigation controls -->
            <div class="exercise-controls">
                <button class="control-btn" id="prev-btn" aria-label="Previous exercise">
                    <span class="control-icon">‹‹</span>
                </button>
                <button class="control-btn control-btn-main" id="start-pause-btn" aria-label="Start or pause exercise timer">
                    <span class="control-icon" id="play-pause-icon">▶</span>
                </button>
                <button class="control-btn" id="next-btn" aria-label="Next exercise">
                    <span class="control-icon">››</span>
                </button>
            </div>
            
            <!-- Hidden back button for navigation -->
            <button class="back-btn-hidden" onclick="showRoutineSelection()" aria-label="Go back to routine selection">‹ Back</button>
        </section>

        <!-- Completion Screen -->
        <section id="completion-screen" class="section">
            <div class="completion-content">
                <div class="completion-icon">🎉</div>
                <h2 class="completion-title">Routine Complete!</h2>
                <p class="completion-message" id="completion-message">Great job completing the routine!</p>
                <div class="completion-stats">
                    <div class="stat">
                        <span class="stat-number" id="total-time">0</span>
                        <span class="stat-label">Minutes</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="total-exercises-completed">0</span>
                        <span class="stat-label">Exercises</span>
                    </div>
                </div>
                <div class="completion-actions">
                    <button class="action-btn primary" onclick="startNewRoutine()">Start New Routine</button>
                    <button class="action-btn secondary" onclick="showRoutineSelection()">Back to Routines</button>
                </div>
            </div>
        </section>
    </div>

    <!-- i18n System -->
    <script src="i18n.js"></script>
    <script src="data-manager.js"></script>
    <script src="new-data-integration.js"></script>
    <script src="script.js"></script>
</body>
</html>
